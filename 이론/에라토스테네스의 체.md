# 에라토스테네스의 체

에라토스테네스의 체는 특정 범위가 주어지고 그 범위 내의 모든 소수를 찾아야 하는 경우에 가장 좋은 효율을 보입니다. 만약, 대량의 소수를 한꺼번에 판별해야 할 경우는 '에라토스테네스의 체'를 이용한다면 가장 빠른 속도로 소수들을 찾을 수 있습니다. 이때 시간 복잡도는 O(N log long N)입니다.



### 알고리즘

1. 2부터 소수를 구하고자 하는 구간의 모든 수를 나열한다. 
2. 2는 소수이므로 오른쪽에 2를 슨다.
3. 자기 자신을 제외한 2의 배수를 모두 지운다.
4. 남아있는 수 가운데 3은 소수이므로 오른쪽에 3을 쓴다.
5. 자기 자신을 제외한 3의 배수를 모두 지운다.
6. 남아있는 수 가운데 5는 소수이므로 오른쪽에 5를 쓴다.
7. 자기 자신을 제외한 5의 배수를 모두 지운다.
8. 남이있는 수 가운데 7은 소수이므로 오른쪽에 7을 쓴다.
9. 위의 과정을 반복하면 구하는 구간의 모든 소수가 남는다.

![Sieve_of_Eratosthenes_animation](에라토스테네스의 체.assets/Sieve_of_Eratosthenes_animation.gif)

그림의 경우, 11^2 > 120 이므로 11보다 작은 수의 배수들만 지워도 충분하다. 즉, 120보다 작거나 같은 수 가운데 2, 3, 5, 7의 배수를 지우고 남는 수는 모두 소수이다.



```python
def prime_list(n):
    # 에라토스테네스의 체 초기화 : n개의 요소에 True 설정(소수로 간주)
    
    # n의 최대 약수가 sqrt(n) 이하 i=sqrt(n)까지 검사
    m = int(n ** 0.5)
    for i in range(2, m + 1):
        if sieve[i] == True:
            for j in range(i + i, n, i):	# i가 소수인 경우
                sieve[j] = False			# i이후 i의 배수들을 False 판정
                
    # 소수 목록 산출
    return [i for i in range(2, n) if sieve[if] == True]
```

